{"version":3,"sources":["assets/circle.png","assets/delete.png","assets/right-arrow.png","pages/Home/index.jsx","config.js","models/Room.js","pages/WaitingRoom/index.jsx","components/Square/index.jsx","contexts/GameContext.js","components/Board/index.jsx","pages/Game/index.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","styles","container","css","actions","createRoomAction","enterRoomAction","memo","history","useHistory","useState","value","setValue","animationOptions","useMemo","loop","autoplay","animationData","landingAnimationData","rendererSettings","preserveAspectRatio","handleTextChange","useCallback","event","target","handleEnterRoomClick","a","db","database","roomRef","ref","once","node","data","val","set","isMatch","push","Typography","variant","options","height","width","isStopped","isPaused","isClickToPauseDisabled","TextField","placeholder","onChange","Button","style","padding","color","disabled","onClick","component","Link","to","Room","this","Array","fill","role","host","guest","status","blink","keyframes","dotLoadingAnimation","min","max","waitingAnimationData","Math","ceil","floor","random","roomId","refPath","handleCancel","useEffect","RoomModel","on","Fade","in","timeout","handleClick","renderIcon","src","circleIcon","alt","deleteIcon","GameContext","createContext","board","setStatus","winner","setWinner","useContext","setHostScore","setGuestScore","isMyTurn","setIsMyTurn","setData","index","newData","child","handleClose","handleGameReset","handleLeaveRoom","result","lines","i","length","b","c","calculateWinner","isDeuce","every","element","calculateDeuce","Number","items","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","rotationLeft2Right","rotationRight2Left","arrorArea","hostArea","guestArea","boardArea","hostTurn","guestTurn","useParams","search","useLocation","hostScore","guestScore","URLSearchParams","get","turn","setTurn","window","onbeforeunload","Box","fontWeight","arrowArea","rightArrow","Provider","basename","process","exact","path","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.0253999e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAACQklEQVRoge2Zz07bQBCHf7NCKqqBI733FXpLWzdIbWiiQEpaqYc+Y8U/k0DKwW1RHyN3OAJuSoV2elgiguzEXns2RNV+x6xnZz57rOyuAY/H4/F45kijcRK4zvFi6/CpbYyyuTjsHoU3we2w/uGwbpuocI5OVFtZUsP6x+itTVxhkbB7FBLQA7DOSkUuZMJOVCNFxwCesaYDGxkqlGAswbhvK0JCWrfjva3YuuKsHPcSqxM/j0jxdvy1fZoXnyvSaJwEN8HtEMB6xvAVQbXi3eZZ8ZLTbHR7LzVzHw8lxlw8SZaeDwabyaw5cltrMNhMWPMOgMuM4VUmfVylzcJOVJsqQUiI9ec8CXOpRUJS1AewlpmwRJtNaadScxYWmUgsIiMpYUIskZCRljBhJagi40LChJakjIwrCRNeAZvCXEqYKSpSpEDN9NelhJlGgByZERgMIL0QFFwdiIgAOTLZmUWXOGIigIWMsISZUpg7mW/IaiXDH2LdlJQALPcjRWGeMSh+6wyiIuPWIpr6NADGsov9zH/zsos8kVkSDIwA/E4FMQLJJ1NZJO8PUbFuseZ3AK5S44IyfolSprCFWzRWKWhhlvEShTz6xkqygEfb6rq4i3M/fHD5kkrNvRAHdPWd/iuG7sH1AR00fwL4+sGAOTzbrioBAPFu84w1v0f6T3NEir+IHtC96USvodADaMXFfgJItVnhc1/AYonyfb/9ExotAOcuJADgx377192TObeRKEWZjzC2zONjksfj8Xg8k/wDasrJ9ej7dNMAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","/** @jsx jsx */\nimport { memo, useState, useMemo, useCallback } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport { Link, useHistory } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Lottie from 'react-lottie';\nimport firebase from 'firebase';\nimport landingAnimationData from '../../assets/landing-animation.json';\nimport { firebaseConfig } from '../../config';\n\nfirebase.initializeApp(firebaseConfig);\n\nconst styles = {\n  container: css`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-between;\n    height: 80vh;\n  `,\n  actions: css`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n    width: 100%;\n    height: 150px;\n  `,\n  createRoomAction: css`\n    display: flex;\n    justify-content: center;\n    width: 100%;\n  `,\n  enterRoomAction: css`\n    width: 80%;\n    display: grid;\n    grid-column-gap: 12px;\n    grid-template-columns: 3fr 2fr;\n    grid-template-rows: 1fr;\n  `,\n};\n\nconst Home = () => {\n  const history = useHistory();\n  const [value, setValue] = useState('');\n  const animationOptions = useMemo(\n    () => ({\n      loop: false,\n      autoplay: true,\n      animationData: landingAnimationData,\n      rendererSettings: {\n        preserveAspectRatio: 'xMidYMid slice',\n      },\n    }),\n    []\n  );\n  const handleTextChange = useCallback((event) => {\n    setValue(event.target.value);\n  }, []);\n\n  const handleEnterRoomClick = useCallback(async () => {\n    const db = firebase.database();\n    const roomRef = db.ref(`/rooms/${value}`);\n    roomRef.once('value', (node) => {\n      const data = node.val();\n      if (data) {\n        roomRef.set({ ...data, isMatch: true });\n        history.push(`/game/${value}?role=guest`);\n      }\n    });\n  }, [history, value]);\n\n  return (\n    <div css={styles.container}>\n      <Typography variant=\"h4\">{'ＯＯＸＸ對戰趣'}</Typography>\n      <Lottie\n        options={animationOptions}\n        height={400}\n        width={400}\n        isStopped={false}\n        isPaused={false}\n        isClickToPauseDisabled\n      />\n      <div css={styles.actions}>\n        <div css={styles.enterRoomAction}>\n          <TextField\n            variant=\"outlined\"\n            placeholder=\"room ID\"\n            value={value}\n            onChange={handleTextChange}\n          />\n          <Button\n            style={{ padding: '16px 24px' }}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={value === ''}\n            onClick={handleEnterRoomClick}\n          >\n            {'進入對戰房'}\n          </Button>\n        </div>\n        <div css={styles.createRoomAction}>\n          <Button\n            style={{ padding: '16px 24px' }}\n            css={css`\n              width: 80%;\n            `}\n            variant=\"contained\"\n            color=\"primary\"\n            component={Link}\n            to=\"/room\"\n          >\n            {'建立房間'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Home);\n","// Your web app's Firebase configuration\nexport const firebaseConfig = {\n  apiKey: 'AIzaSyAivpTyIHZv2qj3spRUlnqC8uM54_mKPvo',\n  authDomain: 'remote-tictactoe.firebaseapp.com',\n  databaseURL: 'https://remote-tictactoe.firebaseio.com',\n  projectId: 'remote-tictactoe',\n  storageBucket: 'remote-tictactoe.appspot.com',\n  messagingSenderId: '542970302488',\n  appId: '1:542970302488:web:52e8c20140221690ea736d',\n  measurementId: 'G-TPMT46RJCK',\n};\n","class Room {\n  constructor() {\n    this.isMatch = false;\n    this.data = Array(9).fill('');\n    this.role = 'host';\n    this.host = 0;\n    this.guest = 0;\n    this.status = 'processing'; // processing, finished, deuce\n  }\n}\n\nexport default Room;\n","/** @jsx jsx */\nimport { memo, useState, useEffect, useCallback, useMemo } from 'react';\nimport { jsx, css, keyframes } from '@emotion/core';\nimport firebase from 'firebase';\nimport Lottie from 'react-lottie';\nimport Typography from '@material-ui/core/Typography';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport { Link, useHistory } from 'react-router-dom';\nimport RoomModel from '../../models/Room';\nimport waitingAnimationData from '../../assets/waiting-animation.json';\n\nconst genRandomRoomId = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n};\n\nconst blink = keyframes`\n0% {\n  opacity: .2;\n}\n20% {\n  opacity: 1;\n}\n100% {\n  opacity: .2;\n}`;\nconst styles = {\n  container: css`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-between;\n    height: 80vh;\n  `,\n  dotLoadingAnimation: css`\n    span {\n      animation-name: ${blink};\n      animation-duration: 1.4s;\n      animation-iteration-count: infinite;\n      animation-fill-mode: both;\n    }\n    span:nth-child(2) {\n      animation-delay: 0.2s;\n    }\n    span:nth-child(3) {\n      animation-delay: 0.4s;\n    }\n  `,\n};\n\nconst WaitingRoom = () => {\n  const animationOptions = useMemo(\n    () => ({\n      loop: true,\n      autoplay: true,\n      animationData: waitingAnimationData,\n      rendererSettings: {\n        preserveAspectRatio: 'xMidYMid slice',\n      },\n    }),\n    []\n  );\n  const history = useHistory();\n  const [roomId] = useState(genRandomRoomId(1000, 9999));\n  const refPath = useMemo(() => `/rooms/${roomId}`, [roomId]);\n\n  const handleCancel = useCallback(() => {\n    const db = firebase.database();\n    db.ref(refPath).set(null);\n  }, [refPath]);\n\n  useEffect(() => {\n    const db = firebase.database();\n\n    db.ref(refPath).set(new RoomModel());\n    db.ref(refPath).on('value', (node) => {\n      if (node.val()) {\n        const { isMatch } = node.val();\n        if (isMatch) {\n          history.push(`/game/${roomId}?role=host`);\n        }\n      }\n    });\n  }, [history, refPath, roomId]);\n\n  return (\n    <Fade in timeout={1000}>\n      <div css={styles.container}>\n        <Typography variant=\"h4\">{`房間編號 : ${roomId}`}</Typography>\n        <Lottie\n          options={animationOptions}\n          height={400}\n          width={400}\n          isStopped={false}\n          isPaused={false}\n          isClickToPauseDisabled\n        />\n        <Typography variant=\"h6\">\n          {'等待對戰對手'}\n          <span css={styles.dotLoadingAnimation}>\n            <span>.</span>\n            <span>.</span>\n            <span>.</span>\n          </span>\n        </Typography>\n\n        <Button\n          style={{ padding: '16px 24px' }}\n          css={css`\n            width: 80%;\n          `}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleCancel}\n          component={Link}\n          to=\"/\"\n        >\n          {'取消'}\n        </Button>\n      </div>\n    </Fade>\n  );\n};\n\nexport default memo(WaitingRoom);\n","/** @jsx jsx */\nimport { memo, useCallback } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport circleIcon from '../../assets/circle.png';\nimport deleteIcon from '../../assets/delete.png';\n\nconst styles = {\n  container: css`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100px;\n    height: 100px;\n    background-color: white;\n    cursor: pointer;\n  `,\n};\n\nconst Square = ({ data, handleClick }) => {\n  const renderIcon = useCallback((data) => {\n    switch (data) {\n      case 'host':\n        return <img src={circleIcon} alt=\"host\" />;\n      case 'guest':\n        return <img src={deleteIcon} alt=\"guest\" />;\n      default:\n        return '';\n    }\n  }, []);\n  return (\n    <div css={styles.container} onClick={handleClick}>\n      {renderIcon(data)}\n    </div>\n  );\n};\n\nexport default memo(Square);\n","import { createContext } from 'react';\n\nconst GameContext = createContext(null);\n\nexport default GameContext;\n","/** @jsx jsx */\nimport {\n  memo,\n  useState,\n  useEffect,\n  useCallback,\n  Fragment,\n  useContext,\n} from 'react';\nimport { jsx, css } from '@emotion/core';\nimport { useHistory } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Square from '../Square';\nimport firebase from 'firebase';\nimport GameContext from '../../contexts/GameContext';\n\nconst styles = {\n  board: css`\n    width: 304px;\n    height: 304px;\n    display: grid;\n    grid-template-columns: 100px 100px 100px;\n    grid-template-rows: 100px 100px 100px;\n    justify-items: center;\n    align-items: center;\n    grid-column-gap: 2px;\n    grid-row-gap: 2px;\n    background-color: black;\n    z-index: -1;\n  `,\n};\n\nconst calculateWinner = (data) => {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (data[a] && data[a] === data[b] && data[a] === data[c]) {\n      return data[a];\n    }\n  }\n  return null;\n};\n\nconst calculateDeuce = (data) => {\n  return data.every((element) => element !== '');\n};\n\nconst Board = ({ roomId, role }) => {\n  const history = useHistory();\n  const [status, setStatus] = useState('processing');\n  const [winner, setWinner] = useState(null);\n  const { setHostScore, setGuestScore } = useContext(GameContext);\n  const [isMyTurn, setIsMyTurn] = useState(false);\n  const [data, setData] = useState([]);\n  const handleClick = useCallback(\n    async (index) => {\n      const db = firebase.database();\n\n      if (data[index] === '') {\n        const newData = data;\n        newData[index] = role;\n        db.ref(`/rooms/${roomId}`).child('data').set(newData);\n        db.ref(`/rooms/${roomId}`)\n          .child('role')\n          .set(role === 'host' ? 'guest' : 'host');\n      }\n    },\n    [data, role, roomId]\n  );\n  const handleClose = useCallback(() => {\n    const db = firebase.database();\n    db.ref(`/rooms/${roomId}`).child('status').set('processing');\n  }, [roomId]);\n\n  const handleGameReset = useCallback(() => {\n    const db = firebase.database();\n\n    db.ref(`/rooms/${roomId}`).child('data').set(Array(9).fill(''));\n    handleClose();\n  }, [handleClose, roomId]);\n  const handleLeaveRoom = useCallback(() => {\n    const db = firebase.database();\n    db.ref(`/rooms/${roomId}`).child('status').set(null);\n    history.push('/');\n  }, [history, roomId]);\n  useEffect(() => {\n    const db = firebase.database();\n\n    db.ref(`/rooms/${roomId}`)\n      .child('data')\n      .on('value', (node) => {\n        if (node.val()) {\n          setData(node.val());\n\n          const result = calculateWinner(node.val());\n          const isDeuce = calculateDeuce(node.val());\n          if (result) {\n            setWinner(result);\n            db.ref(`/rooms/${roomId}`).child('status').set('finished');\n            db.ref(`/rooms/${roomId}`)\n              .child(result)\n              .once('value', (node) => {\n                db.ref(`/rooms/${roomId}`)\n                  .child(result)\n                  .set(Number(node.val()) + 1);\n              });\n          } else if (isDeuce) {\n            db.ref(`/rooms/${roomId}`).child('status').set('deuce');\n          }\n        }\n      });\n\n    db.ref(`/rooms/${roomId}`)\n      .child('role')\n      .on('value', (node) => {\n        setIsMyTurn(node.val() === role);\n      });\n\n    db.ref(`/rooms/${roomId}`)\n      .child('host')\n      .on('value', (node) => {\n        setHostScore(node.val());\n      });\n    db.ref(`/rooms/${roomId}`)\n      .child('guest')\n      .on('value', (node) => {\n        setGuestScore(node.val());\n      });\n    db.ref(`/rooms/${roomId}`)\n      .child('status')\n      .on('value', (node) => {\n        setStatus(node.val());\n      });\n  }, [roomId, role, setHostScore, setGuestScore]);\n\n  useEffect(() => {\n    if (status === 'processing') {\n      const db = firebase.database();\n      const items = ['host', 'guest'];\n      db.ref(`/rooms/${roomId}`)\n        .child('role')\n        .set(items[Math.floor(Math.random() * items.length)]);\n    }\n  }, [roomId, status]);\n\n  return (\n    <Fragment>\n      <div css={styles.board}>\n        <Square\n          data={data[0]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(0);\n          }}\n        />\n        <Square\n          data={data[1]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(1);\n          }}\n        />\n        <Square\n          data={data[2]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(2);\n          }}\n        />\n        <Square\n          data={data[3]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(3);\n          }}\n        />\n        <Square\n          data={data[4]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(4);\n          }}\n        />\n        <Square\n          data={data[5]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(5);\n          }}\n        />\n        <Square\n          data={data[6]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(6);\n          }}\n        />\n        <Square\n          data={data[7]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(7);\n          }}\n        />\n        <Square\n          data={data[8]}\n          handleClick={() => {\n            if (isMyTurn) handleClick(8);\n          }}\n        />\n      </div>\n      <Dialog open={status === 'finished'} onClose={handleClose}>\n        <DialogTitle>{'再來一局嗎？'}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            <Typography>{`獲勝者是 : ${winner}`}</Typography>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleLeaveRoom} color=\"primary\">\n            結束對戰\n          </Button>\n          <Button onClick={handleGameReset} color=\"primary\">\n            再來一局\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Dialog open={status === 'deuce'} onClose={handleClose}>\n        <DialogTitle>{'再來一局嗎？'}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            <Typography>{`平手！`}</Typography>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleLeaveRoom} color=\"primary\">\n            結束對戰\n          </Button>\n          <Button onClick={handleGameReset} color=\"primary\">\n            再來一局\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n};\n\nexport default memo(Board);\n","/** @jsx jsx */\nimport { memo, useMemo, useEffect, useState } from 'react';\nimport { jsx, css, keyframes } from '@emotion/core';\nimport firebase from 'firebase';\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\nimport Board from '../../components/Board';\nimport rightArrow from '../../assets/right-arrow.png';\nimport GameContext from '../../contexts/GameContext';\n\nconst rotationLeft2Right = keyframes`\n  from {\n    transform: rotate(180deg);\n  }\n  to {\n    transform: rotate(0deg);\n  }\n`;\nconst rotationRight2Left = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(180deg);\n  }\n`;\n\nconst styles = {\n  arrorArea: css`\n    grid-area: arrow;\n  `,\n  hostArea: css`\n    grid-area: host;\n    width: 80%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n  `,\n  guestArea: css`\n    grid-area: guest;\n    width: 80%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n  `,\n  boardArea: css`\n    grid-area: board;\n  `,\n  container: css`\n    display: grid;\n    grid-template-rows: auto 1fr;\n    grid-template-areas:\n      'host arrow guest'\n      'board board board';\n    justify-content: space-between;\n    justify-items: center;\n    align-items: center;\n    height: 80vh;\n  `,\n\n  hostTurn: css`\n    animation: ${rotationRight2Left} 0.5s linear forwards;\n  `,\n  guestTurn: css`\n    animation: ${rotationLeft2Right} 0.5s linear forwards;\n  `,\n};\n\nconst Game = () => {\n  const history = useHistory();\n  const { roomId } = useParams();\n  const { search } = useLocation();\n  const [hostScore, setHostScore] = useState(0);\n  const [guestScore, setGuestScore] = useState(0);\n  const refPath = useMemo(() => `/rooms/${roomId}`, [roomId]);\n  const role = useMemo(() => new URLSearchParams(search).get('role'), [search]);\n  const [turn, setTurn] = useState('');\n  useEffect(() => {\n    window.onbeforeunload = () => {\n      const db = firebase.database();\n      db.ref(refPath).set(null);\n    };\n  }, [refPath, roomId]);\n  useEffect(() => {\n    const db = firebase.database();\n\n    db.ref(refPath).on('value', (node) => {\n      if (!node.val()) {\n        history.push('/');\n      }\n    });\n\n    db.ref(refPath)\n      .child('role')\n      .on('value', (node) => {\n        setTurn(node.val());\n      });\n\n    return () => {\n      db.ref(refPath).set(null);\n    };\n  }, [history, refPath, roomId]);\n\n  return (\n    <Fade in timeout={1000}>\n      <div css={styles.container}>\n        <div css={styles.hostArea}>\n          <Typography variant=\"h5\">\n            {role === 'host' ? (\n              <Box fontWeight=\"fontWeightBold\">Host</Box>\n            ) : (\n              'Host'\n            )}\n          </Typography>\n          <Typography variant=\"h5\">\n            {role === 'host' ? (\n              <Box fontWeight=\"fontWeightBold\">{hostScore}</Box>\n            ) : (\n              hostScore\n            )}\n          </Typography>\n        </div>\n        <img\n          css={[\n            styles.arrowArea,\n            turn === 'host' ? styles.hostTurn : styles.guestTurn,\n          ]}\n          src={rightArrow}\n          alt=\"arrow\"\n          height=\"32px\"\n          width=\"32px\"\n        />\n        <div css={styles.guestArea}>\n          <Typography variant=\"h5\">\n            {role === 'guest' ? (\n              <Box fontWeight=\"fontWeightBold\">{guestScore}</Box>\n            ) : (\n              guestScore\n            )}\n          </Typography>\n          <Typography variant=\"h5\">\n            {role === 'guest' ? (\n              <Box fontWeight=\"fontWeightBold\">Guest</Box>\n            ) : (\n              'Guest'\n            )}\n          </Typography>\n        </div>\n\n        <div css={styles.boardArea}>\n          <GameContext.Provider value={{ setHostScore, setGuestScore }}>\n            <Board roomId={roomId} role={role} />\n          </GameContext.Provider>\n        </div>\n      </div>\n    </Fade>\n  );\n};\n\nexport default memo(Game);\n","/** @jsx jsx */\nimport { memo } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Home from './pages/Home';\nimport WaitingRoom from './pages/WaitingRoom';\nimport Game from './pages/Game';\n\nconst App = () => {\n  const styles = {\n    container: css`\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100vh;\n    `,\n  };\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div css={styles.container}>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/room\">\n            <WaitingRoom />\n          </Route>\n          <Route path=\"/game/:roomId\">\n            <Game />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default memo(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}